# 📄 **画像処理ツール 要件定義書**

---

## 1. **プロジェクト概要（Project Overview）**

本ツールは、カラー画像（JPG / PNG）を読み込み、白黒（グレースケール）に変換後、
下記 2 種類の透明化処理のいずれかを適用し、最終的に背景透明の PNG 画像として保存する
Windows 向けアプリケーションである。

---

## 2. **開発環境（Environment）**

* OS：Windows 11
* 言語：Python 3.x
* ライブラリ：Pillow（画像処理）
* GUI：Tkinter
* 出力形式：PNG（透明背景対応）
* 将来的な修正がしやすいよう、可読性の高いコメントを付ける。

---

## 3. **対象画像（Input Specification）**

* 入力形式：JPG / PNG
* 想定解像度：1600 × 1200px（その他サイズにも対応）
* カラー画像を前提とする（RGB）

---

## 4. **基本機能（Functional Requirements）**

### 4.1 画像読込（Load Image）

* JPG / PNG ファイルを指定して読み込む
* 読み込んだ画像をプレビュー表示
* 画像は内部で RGB 形式に変換して保持

---

### 4.2 グレースケール変換（Convert to Grayscale）

読み込んだカラー画像を L モード（0–255 の白黒）に変換する。
※ユーザー操作なしで内部処理として実施。

---

### 4.3 画像処理パターン（Image Processing Patterns）

#### 4.3.1 パターン（1）：白透明・黒不透明

| 色      | 出力アルファ値      | 備考      |
| ------ | ------------ | ------- |
| 白（255） | 透明（0）        | 完全に透明   |
| 黒（0）   | 不透明（255）     | 完全に不透明  |
| グレー    | 255 - Gray 値 | 暗いほど不透明 |

* 背景色は白固定
* 出力形式：RGBA（白背景 + Alpha）

#### 4.3.2 パターン（2）：黒透明・白不透明

| 色      | 出力アルファ値  | 備考       |
| ------ | -------- | -------- |
| 黒（0）   | 透明（0）    | 完全透明     |
| 白（255） | 不透明（255） | 完全不透明    |
| グレー    | Gray 値   | 明るいほど不透明 |

* 背景色は黒固定
* 出力形式：RGBA（黒背景 + Alpha）

---

### 4.4 画像保存（Save Image）

* 出力形式：PNG（背景透明）
* ファイル名をユーザーが指定
* 処理後画像が存在しない場合はエラー表示

---

## 5. **UI 要件（UI Requirements）**

### 5.1 ボタン構成

| ボタン名    | 機能             |
| ------- | -------------- |
| 画像読込    | JPG/PNG を読み込む  |
| 画像処理（1） | 白透明・黒不透明の処理を行う |
| 画像処理（2） | 黒透明・白不透明の処理を行う |
| 画像保存    | 透明 PNG として保存する |

---

### 5.2 画面構成

* 上部：画像プレビュー領域
* 下部：ボタン群
* 読み込んだ画像または処理結果を縮小表示
* 画像が無い場合は “No Image” と表示

---

## 6. **非機能要件（Non-functional Requirements）**

### 6.1 処理速度

* 基本的に数秒以内で完了すること
* 高解像度でも問題なく動作すること

### 6.2 保守性

* 関数定義、変数名に説明コメントを適切に付与
* ユーザー側が修正しやすい構造にする

### 6.3 移植性

* 標準的な Python/Tkinter 技術で構築し、
  将来的な動作環境の変更にも対応可能とする。

---

## 7. **エラー処理（Error Handling）**

* 画像が読み込まれていない状態で処理を実行 → 警告を表示
* 不正な画像フォーマット → エラー表示
* 保存先が指定されなかった場合 → 処理中断

---

## 8. **納品物（Deliverables）**

* 完全な Python ソースコード（.py）
* コメント付き
* 必要なライブラリ一覧
* README（実行方法説明書）

---

## 9. **今後の拡張（Optional Future Features）**

* 元画像と処理済画像を左右に並べて表示
* プレビューの拡大・縮小
* パラメータ調整スライダー（透明度調整など）
* バッチ処理（一括変換）

---